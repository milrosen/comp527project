\documentclass[reqno, twoside]{article}
\input{preamble.sty}
\input{macros.sty}

\begin{document}
    \title{\textbf{\normalsize\MakeUppercase{Subject Reduction for Pure Type Systems}}}
    \author{\small Charlotte Marchal | ?????????\ \ \ \ Dashiell Rich | 261002837\\\small Milton Rosenbaum | 260972050\ \ \ \ Zhaoshen Zhai | 261003108}
    \date{}
    \maketitle
    \freefootnote{\textit{Date}: \today.}
    \freefootnote{Extended abstracted for the final project for \textsc{Comp527: Logic and Computation} taught by Professor Brigitte Pientka.}
    \freefootnote{Link to presentation: \TODO}

    \begin{center}
        \vspace{-0.3in}
        \begin{minipage}{0.85\textwidth}\setstretch{0.8}
            {\footnotesize{\textsc{Abstract.}} Following \cite{GN91} and \cite{Bar91}, we study the basics of \textit{pure type systems}, which abstract many of the constructs found in the eight systems of the \textit{$\lambda$-cube}. We start with a brief introduction to the systems of the $\lambda$-cube, discuss their expressive power, and introduce pure type systems as a unifying framework in which they can be studied. We then give a detailed proof of subject reduction for arbitrary pure type systems.}
        \end{minipage}
    \end{center}

    \subsection*{Introduction}

    Subject reduction is a crucial property of a type system that guarantees its `computational consistency' by ensuring that reductions of a well-typed expression remains well-typed, and which supports the slogan that `well-typed programs do not go wrong'. It is thus desirable that we can prove it uniformly across many different type systems, and this is the goal of the present note.

    To this end, \TODO[review $\lambda$-cube and the dependencies.]

    \begin{definition}
        A \textit{pure type system} is a tuple $\sigma\coloneqq(\mc{C},\mc{V},\mc{S},\mc{A},\mc{R})$ \TODO
    \end{definition}

    \begin{definition}
        The \textit{$\beta$-reduction} relation is the least relation on $\sigma$-terms satisfying the following for all $\sigma$-terms $A,A',A''$: the \textit{principal reduction rule} $(\lambda x\!:\!A.A')A''\rightarrow_\beta A'[A''/x]$, and the \textit{congruence rules} $A\,A'\succ A\,A''$, $A'\,A\succ A''\,A$, $\lambda x\!:\!A.A'\succ\lambda x\!:\!A.A''$, $\lambda x\!:\!A'.A\succ\lambda x\!:\!A''.A$, $\Pi x\!:\!A.A'\succ\Pi x\!:\!A.A''$, and $\Pi x\!:\!A'.A\succ\Pi x\!:\!A''.A$.
    \end{definition}

    \begin{notation}
        We write $\twoheadrightarrow_\beta$ for the reflexive and transitive closure of $\rightarrow_\beta$, and $=_\beta$ for the equivalence relation generated by $\twoheadrightarrow_\beta$. A $\sigma$-term of the form $(\lambda x\!:\!A.A')A''$ is called a \textit{$\beta$-redex}.
    \end{notation}

    \begin{lemma}[Substitution Lemma; \cite{GN91}*{Lemma 17}]\label{lem:substitution}
        Let $\Gamma$ and $\Gamma_1,y\!:\!A,\Gamma_2$ be $\sigma$-contexts and let $A,M,N,P$ be $\sigma$-terms. If $\Gamma_1,y\!:\!A,\Gamma_2\proves M\!:\!N$ and $\Gamma\proves P\!:\!A$, then $(\Gamma_1,\Gamma_2)[P/y]\proves M[P/y]\!:\!N[P/y]$.
    \end{lemma}

    \begin{lemma}[Stripping Lemma; \cite{GN91}*{Lemma 19}]\label{lem:stripping}
        Let $\Gamma$ be a $\sigma$-context and let $M,N,P$ be $\sigma$-terms.
        \begin{enumerate}
            \item If $\Gamma\proves c\!:\!P$ where $c\in\mc{C}$, then $P=_\beta c'$ and $(c,c')\in\mc{A}$ for some $c'\in\mc{C}$.
                \vspace{-0.05in}
            \item If $\Gamma\proves x\!:\!P$ where $x\in\mc{V}$, then $P=_\beta Q$ for some $\sigma$-term $Q$ such that $(x\!:\!Q)\in\Gamma$.
                \vspace{-0.05in}
            \item If $\Gamma\proves(\Pi x\!:\!M.N)\!:\!P$, then $\Gamma\proves M\!:\!s_1$, $\Gamma,x\!:\!M\proves N\!:\!s_2$, and $P=_\beta s_3$ for some $(s_1,s_2,s_3)\in\mc{R}$.
                \vspace{-0.05in}
            \item If $\Gamma\proves(\Lambda x\!:\!M.N)\!:\!P$, then $\Gamma\proves M\!:\!s_1$, $\Gamma,x\!:\!M\proves Q\!:\!s_2$, $\Gamma,x\!:\!M\proves N\!:\!Q$, $\Gamma\proves P\!:\!s_3$, and $P=_\beta\Pi x\!:\! M.Q$ for some $(s_1,s_2,s_3)\in\mc{R}$ and $\sigma$-term $Q$.
                \vspace{-0.05in}
            \item If $\Gamma\proves M\,N\!:\!P$, then $\Gamma\proves M\!:\!(\Pi x\!:\!A.B)$, $\Gamma\proves N\!:\!A$, and $P=_\beta B[N/x]$ for some $\sigma$-terms $A$ and $B$
        \end{enumerate}
    \end{lemma}

    \begin{theorem}[Subject Reduction]
        Let $\Gamma,\Gamma'$ be $\sigma$-contexts, $M,M',N$ be $\sigma$-terms, and suppose that $\Gamma\proves M\!:\!N$.
        \begin{enumerate}
            \item If $M\twoheadrightarrow_\beta M'$, then $\Gamma\proves M'\!:\! N$.
                \vspace{-0.05in}
            \item If $\Gamma\twoheadrightarrow_\beta\Gamma'$, then $\Gamma'\proves M\!:\! N$.
        \end{enumerate}
    \end{theorem}
    \begin{proof}
        \TODO
    \end{proof}

    \appendix

    \begin{bibdiv}
        \begin{biblist}*{labels={alphabetic}}
            \bibselect{bibliography}
        \end{biblist}
    \end{bibdiv}
\end{document}
